{
  "id": "f729060d-07d5-4e29-a4fd-0232c437b931",
  "revision": 4,
  "last_node_id": 552,
  "last_link_id": 621,
  "nodes": [
    {
      "id": 506,
      "type": "SeedVR2LoadVAEModel",
      "pos": [
        4497.125705567336,
        1029.6619055013011
      ],
      "size": [
        321.796875,
        351.6666666666667
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [
        {
          "name": "torch_compile_args",
          "shape": 7,
          "type": "TORCH_COMPILE_ARGS",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "SEEDVR2_VAE",
          "type": "SEEDVR2_VAE",
          "links": [
            518,
            599
          ]
        }
      ],
      "properties": {
        "cnr_id": "seedvr2_videoupscaler",
        "ver": "2.5.20",
        "Node name for S&R": "SeedVR2LoadVAEModel",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [
        "ema_vae_fp16.safetensors",
        "cuda:0",
        false,
        1024,
        128,
        false,
        1024,
        128,
        "false",
        "none",
        false
      ]
    },
    {
      "id": 10,
      "type": "CLIPTextEncode",
      "pos": [
        5198.773442313582,
        343.2390654606012
      ],
      "size": [
        298.1119791666667,
        103.33333333333334
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 508
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            6,
            309,
            310,
            547
          ]
        }
      ],
      "title": "CLIP Text Encode (Negative Prompt)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "CLIPTextEncode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "blurry, ugly, bad quality,"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 8,
      "type": "VAEEncode",
      "pos": [
        5203.266226952336,
        486.59542802015886
      ],
      "size": [
        140,
        46
      ],
      "flags": {
        "collapsed": true
      },
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 517
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 15
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            7
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "VAEEncode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 61,
      "type": "VAEDecode",
      "pos": [
        5349.705402704978,
        485.050485819164
      ],
      "size": [
        140.1517620671466,
        57.93918852447871
      ],
      "flags": {
        "collapsed": true
      },
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 49
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 304
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            566,
            594
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "VAEDecode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 12,
      "type": "VAELoader",
      "pos": [
        4907.615261298471,
        345.8282554941467
      ],
      "size": [
        267.70195622973404,
        68.12575424345957
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            15,
            304,
            539,
            542,
            550,
            619
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "VAELoader",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "ae.safetensors"
      ]
    },
    {
      "id": 401,
      "type": "ModelPatchLoader",
      "pos": [
        4909.476009225606,
        459.6428396974607
      ],
      "size": [
        265.8167535955954,
        68.33333333333334
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL_PATCH",
          "type": "MODEL_PATCH",
          "links": [
            538,
            618
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.4.0",
        "Node name for S&R": "ModelPatchLoader",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "Z-Image-Turbo-Fun-Controlnet-Union.safetensors"
      ]
    },
    {
      "id": 543,
      "type": "BboxDetectorCombined_v2",
      "pos": [
        5513.076899461588,
        586.353703939042
      ],
      "size": [
        393.0787109375,
        107.95830961748231
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "bbox_detector",
          "type": "BBOX_DETECTOR",
          "link": 593
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 595
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            588
          ]
        }
      ],
      "title": "BboxDetectorCombined_v2 (mask for reference crop)",
      "properties": {
        "cnr_id": "comfyui-impact-pack",
        "ver": "61bd8397a18e7e7668e6a24e95168967768c2bed",
        "Node name for S&R": "BboxDetectorCombined_v2",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        0.35,
        8
      ]
    },
    {
      "id": 541,
      "type": "InpaintCropImproved",
      "pos": [
        5928.1229973010495,
        590.7023615316838
      ],
      "size": [
        357.44140625,
        626
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 587
        },
        {
          "name": "mask",
          "shape": 7,
          "type": "MASK",
          "link": 588
        },
        {
          "name": "optional_context_mask",
          "shape": 7,
          "type": "MASK",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "stitcher",
          "type": "STITCHER",
          "links": null
        },
        {
          "name": "cropped_image",
          "type": "IMAGE",
          "links": [
            589,
            596
          ]
        },
        {
          "name": "cropped_mask",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-inpaint-cropandstitch",
        "ver": "2.1.8",
        "Node name for S&R": "InpaintCropImproved",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [
        "bilinear",
        "bicubic",
        true,
        "ensure minimum resolution",
        1024,
        1024,
        16384,
        16384,
        true,
        0,
        false,
        32,
        0.1,
        false,
        1,
        1,
        1,
        1,
        1.2,
        true,
        512,
        512,
        "32"
      ]
    },
    {
      "id": 534,
      "type": "InpaintCropImproved",
      "pos": [
        6306.915245878302,
        588.6977795217825
      ],
      "size": [
        357.44140625,
        626
      ],
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 566
        },
        {
          "name": "mask",
          "shape": 7,
          "type": "MASK",
          "link": 567
        },
        {
          "name": "optional_context_mask",
          "shape": 7,
          "type": "MASK",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "stitcher",
          "type": "STITCHER",
          "links": [
            575
          ]
        },
        {
          "name": "cropped_image",
          "type": "IMAGE",
          "links": [
            569
          ]
        },
        {
          "name": "cropped_mask",
          "type": "MASK",
          "links": [
            571
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-inpaint-cropandstitch",
        "ver": "2.1.8",
        "Node name for S&R": "InpaintCropImproved",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [
        "bilinear",
        "bicubic",
        false,
        "ensure minimum resolution",
        1024,
        1024,
        16384,
        16384,
        true,
        0,
        false,
        32,
        0.1,
        false,
        1,
        1,
        1,
        1,
        1.2,
        true,
        512,
        512,
        "32"
      ]
    },
    {
      "id": 544,
      "type": "SeedVR2VideoUpscaler",
      "pos": [
        6161.071475730925,
        1280.8390260456597
      ],
      "size": [
        329.9609375,
        420
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 596
        },
        {
          "name": "dit",
          "type": "SEEDVR2_DIT",
          "link": 598
        },
        {
          "name": "vae",
          "type": "SEEDVR2_VAE",
          "link": 599
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            597,
            600
          ]
        }
      ],
      "properties": {
        "cnr_id": "seedvr2_videoupscaler",
        "ver": "2.5.20",
        "Node name for S&R": "SeedVR2VideoUpscaler",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [
        9999999,
        "fixed",
        1080,
        0,
        1,
        false,
        "lab",
        0,
        0,
        0,
        0,
        "cuda:0",
        false
      ]
    },
    {
      "id": 520,
      "type": "Get Image Size",
      "pos": [
        6685.007432956049,
        597.4026630666016
      ],
      "size": [
        140,
        46
      ],
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 569
        }
      ],
      "outputs": [
        {
          "name": "width",
          "type": "INT",
          "links": [
            535
          ]
        },
        {
          "name": "height",
          "type": "INT",
          "links": [
            536
          ]
        }
      ],
      "properties": {
        "cnr_id": "masquerade-nodes-comfyui",
        "ver": "432cb4d146a391b387a0cd25ace824328b5b61cf",
        "Node name for S&R": "Get Image Size",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 545,
      "type": "PreviewImage",
      "pos": [
        6522.909771343703,
        1274.7607793048924
      ],
      "size": [
        140,
        246
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 600
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.4.0",
        "Node name for S&R": "PreviewImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": []
    },
    {
      "id": 505,
      "type": "SeedVR2LoadDiTModel",
      "pos": [
        4502.5869936058725,
        723.036978186191
      ],
      "size": [
        317.55208333333337,
        238.33333333333334
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [
        {
          "name": "torch_compile_args",
          "shape": 7,
          "type": "TORCH_COMPILE_ARGS",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "SEEDVR2_DIT",
          "type": "SEEDVR2_DIT",
          "links": [
            519,
            598
          ]
        }
      ],
      "properties": {
        "cnr_id": "seedvr2_videoupscaler",
        "ver": "2.5.20",
        "Node name for S&R": "SeedVR2LoadDiTModel",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [
        "seedvr2_ema_7b_sharp_fp16.safetensors",
        "cuda:0",
        0,
        false,
        "none",
        false,
        "sdpa"
      ]
    },
    {
      "id": 214,
      "type": "CLIPLoader",
      "pos": [
        4905.474887928453,
        174.67189367022166
      ],
      "size": [
        270,
        125
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            507,
            508
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "CLIPLoader",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.1"
        }
      },
      "widgets_values": [
        "qwen_3_4b.safetensors",
        "lumina2",
        "default"
      ]
    },
    {
      "id": 9,
      "type": "CLIPTextEncode",
      "pos": [
        5195.491190845286,
        193.39070244302064
      ],
      "size": [
        304.1666666666667,
        103.33333333333334
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 507
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            5,
            307,
            308,
            546
          ]
        }
      ],
      "title": "CLIP Text Encode (Positive Prompt)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "CLIPTextEncode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "high definition skin texture, detailed skin texture, visible pores"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 519,
      "type": "Canny",
      "pos": [
        6677.048464809124,
        1048.6096207464013
      ],
      "size": [
        210,
        96
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 589
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            540
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.4.0",
        "Node name for S&R": "Canny",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        0.02,
        0.11
      ]
    },
    {
      "id": 522,
      "type": "QwenImageDiffsynthControlnet",
      "pos": [
        6899.310526301124,
        1049.646910486496
      ],
      "size": [
        247.5689453125,
        138
      ],
      "flags": {},
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 537
        },
        {
          "name": "model_patch",
          "type": "MODEL_PATCH",
          "link": 538
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 539
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 540
        },
        {
          "name": "mask",
          "shape": 7,
          "type": "MASK",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            545
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.4.0",
        "Node name for S&R": "QwenImageDiffsynthControlnet",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        2
      ]
    },
    {
      "id": 523,
      "type": "VAEEncode",
      "pos": [
        6838.137928416973,
        598.8183409339962
      ],
      "size": [
        140,
        46
      ],
      "flags": {
        "collapsed": true
      },
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 597
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 542
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            543
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.4.0",
        "Node name for S&R": "VAEEncode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 524,
      "type": "SetLatentNoiseMask",
      "pos": [
        6833.980168643639,
        642.0662668577019
      ],
      "size": [
        240,
        90
      ],
      "flags": {
        "collapsed": true
      },
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 543
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": 571
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            577
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.4.0",
        "Node name for S&R": "SetLatentNoiseMask",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 525,
      "type": "KSampler",
      "pos": [
        7025.075780022019,
        517.2023559315646
      ],
      "size": [
        210,
        486
      ],
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 545
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 546
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 547
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 577
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            615
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.4.0",
        "Node name for S&R": "KSampler",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        123456839,
        "increment",
        9,
        1,
        "euler",
        "simple",
        0.12
      ]
    },
    {
      "id": 526,
      "type": "VAEDecode",
      "pos": [
        7264.80310312826,
        549.5887831926456
      ],
      "size": [
        140,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 36,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 615
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 550
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            552
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.4.0",
        "Node name for S&R": "VAEDecode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 527,
      "type": "InpaintStitchImproved",
      "pos": [
        7243.915391385607,
        610.7859437364236
      ],
      "size": [
        320,
        120
      ],
      "flags": {},
      "order": 37,
      "mode": 0,
      "inputs": [
        {
          "name": "stitcher",
          "type": "STITCHER",
          "link": 575
        },
        {
          "name": "inpainted_image",
          "type": "IMAGE",
          "link": 552
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            553
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-inpaint-cropandstitch",
        "ver": "2.1.8",
        "Node name for S&R": "InpaintStitchImproved",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 206,
      "type": "ContrastNode",
      "pos": [
        7253.558101218203,
        784.5074058406414
      ],
      "size": [
        270,
        68.33333333333334
      ],
      "flags": {},
      "order": 38,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 553
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            220
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-logicutils",
        "ver": "1.7.2",
        "Node name for S&R": "ContrastNode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        1.1
      ]
    },
    {
      "id": 62,
      "type": "SaveImage",
      "pos": [
        7586.293554350486,
        524.8900293477388
      ],
      "size": [
        509.9815091015183,
        524.843584156239
      ],
      "flags": {},
      "order": 39,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 220
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "SaveImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "Zimage_Img2Img/ComfyUI_"
      ]
    },
    {
      "id": 11,
      "type": "LoadImage",
      "pos": [
        4602.831030388038,
        147.8453053033337
      ],
      "size": [
        277.7890981069859,
        512.7596812014166
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            514,
            587,
            595
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "LoadImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "Image_202512190017.jpeg",
        "image"
      ]
    },
    {
      "id": 15,
      "type": "UNETLoader",
      "pos": [
        4906.9758961225125,
        571.0895190974395
      ],
      "size": [
        270,
        96.66666666666667
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            616
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "UNETLoader",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "z_image_turbo_bf16.safetensors",
        "default"
      ]
    },
    {
      "id": 6,
      "type": "ModelSamplingAuraFlow",
      "pos": [
        5221.122246062204,
        534.344232087851
      ],
      "size": [
        268.64941961819386,
        68.03516298671511
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 616
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            506,
            534
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "ModelSamplingAuraFlow",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        3
      ]
    },
    {
      "id": 513,
      "type": "Get Image Size",
      "pos": [
        5219.483455553453,
        1002.7372914446664
      ],
      "size": [
        140,
        46
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 523
        }
      ],
      "outputs": [
        {
          "name": "width",
          "type": "INT",
          "links": [
            524
          ]
        },
        {
          "name": "height",
          "type": "INT",
          "links": [
            525
          ]
        }
      ],
      "properties": {
        "cnr_id": "masquerade-nodes-comfyui",
        "ver": "432cb4d146a391b387a0cd25ace824328b5b61cf",
        "Node name for S&R": "Get Image Size",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": []
    },
    {
      "id": 517,
      "type": "BboxDetectorCombined_v2",
      "pos": [
        5511.329093957768,
        883.5096265091493
      ],
      "size": [
        389.32199645145647,
        140.65432643515226
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "bbox_detector",
          "type": "BBOX_DETECTOR",
          "link": 528
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 565
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": []
        }
      ],
      "properties": {
        "cnr_id": "comfyui-impact-pack",
        "ver": "61bd8397a18e7e7668e6a24e95168967768c2bed",
        "Node name for S&R": "BboxDetectorCombined_v2",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        0.35,
        8
      ]
    },
    {
      "id": 542,
      "type": "BboxDetectorCombined_v2",
      "pos": [
        5509.604318247977,
        1064.0983283378976
      ],
      "size": [
        394.2712327387002,
        135.45684991878852
      ],
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "bbox_detector",
          "type": "BBOX_DETECTOR",
          "link": 592
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 594
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            567
          ]
        }
      ],
      "title": "BboxDetectorCombined_v2 (mask for output crop)",
      "properties": {
        "cnr_id": "comfyui-impact-pack",
        "ver": "61bd8397a18e7e7668e6a24e95168967768c2bed",
        "Node name for S&R": "BboxDetectorCombined_v2",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        0.35,
        8
      ]
    },
    {
      "id": 550,
      "type": "Note",
      "pos": [
        6186.274169585425,
        282.52945045272224
      ],
      "size": [
        934.1547543709557,
        245.65688128051073
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "ComfyUI/models/\n├── vae/\n│   └── ae.safetensors\n│       Download: https://huggingface.co/Comfy-Org/z_image_turbo/resolve/main/split_files/vae/ae.safetensors\n├── diffusion_models/\n│   └── z_image_turbo_bf16.safetensors\n│       Download: https://huggingface.co/Comfy-Org/z_image_turbo/resolve/main/split_files/diffusion_models/z_image_turbo_bf16.safetensors\n├── text_encoders/\n│   └── qwen_3_4b.safetensors\n│       Download: https://huggingface.co/Comfy-Org/z_image_turbo/resolve/main/split_files/text_encoders/qwen_3_4b.safetensors\n├── model_patches/\n│   └── Z-Image-Turbo-Fun-Controlnet-Union.safetensors\n│       Download: https://huggingface.co/alibaba-pai/Z-Image-Turbo-Fun-Controlnet-Union/resolve/main/Z-Image-Turbo-Fun-Controlnet-Union.safetensors\n└── ultralytics/\n    └── bbox/\n        └── yolov8n-face.pt\n            Download: https://huggingface.co/deepghs/yolo-face/resolve/739664f2d00e436a8882238f83175ab0f6497578/yolov8n-face/model.pt\n"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 516,
      "type": "UltralyticsDetectorProvider",
      "pos": [
        5512.6706250136085,
        735.8186548395203
      ],
      "size": [
        388.64021576028426,
        106.27537259990197
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "BBOX_DETECTOR",
          "type": "BBOX_DETECTOR",
          "links": [
            528,
            592,
            593
          ]
        },
        {
          "name": "SEGM_DETECTOR",
          "type": "SEGM_DETECTOR",
          "links": []
        }
      ],
      "properties": {
        "cnr_id": "comfyui-impact-subpack",
        "ver": "1.3.5",
        "Node name for S&R": "UltralyticsDetectorProvider",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "bbox/yolov8n-face.pt"
      ]
    },
    {
      "id": 521,
      "type": "DyPE_FLUX",
      "pos": [
        6680.3939615509435,
        689.155431185327
      ],
      "size": [
        320,
        322
      ],
      "flags": {},
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 534
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 535
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 536
        }
      ],
      "outputs": [
        {
          "name": "Patched Model",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            537
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-dype",
        "ver": "2.3.0",
        "Node name for S&R": "DyPE_FLUX",
        "ue_properties": {
          "widget_ue_connectable": {
            "width": true,
            "height": true
          },
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        1024,
        1024,
        "zimage",
        "vision_yarn",
        false,
        true,
        1024,
        1,
        2,
        2,
        0.1,
        2
      ]
    },
    {
      "id": 512,
      "type": "DyPE_FLUX",
      "pos": [
        5212.368464029064,
        642.9482173270674
      ],
      "size": [
        286.093062083728,
        322
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 506
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 524
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 525
        }
      ],
      "outputs": [
        {
          "name": "Patched Model",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            617
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-dype",
        "ver": "2.3.0",
        "Node name for S&R": "DyPE_FLUX",
        "ue_properties": {
          "input_ue_unconnectable": {},
          "version": "7.5.1",
          "widget_ue_connectable": {}
        }
      },
      "widgets_values": [
        3840,
        2160,
        "zimage",
        "vision_yarn",
        false,
        true,
        1024,
        1,
        2,
        2,
        0.1,
        2
      ]
    },
    {
      "id": 58,
      "type": "KSampler",
      "pos": [
        5961.501745511865,
        60.646301558731295
      ],
      "size": [
        210,
        486
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 603
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 308
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 310
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 329
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            49
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "KSampler",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        1109963669891324,
        "fixed",
        9,
        1,
        "euler",
        "simple",
        0.2
      ]
    },
    {
      "id": 35,
      "type": "KSampler",
      "pos": [
        5737.913594478944,
        62.84739526680829
      ],
      "size": [
        210,
        486
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 602
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 307
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 309
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 327
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            329
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "KSampler",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        208543382424106,
        "fixed",
        9,
        1,
        "euler",
        "simple",
        0.2
      ]
    },
    {
      "id": 3,
      "type": "KSampler",
      "pos": [
        5511.597944304306,
        64.29744899428628
      ],
      "size": [
        210,
        474
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 601
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 5
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 6
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 7
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            327
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "KSampler",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        119704256080773,
        "fixed",
        9,
        1,
        "euler",
        "simple",
        0.2
      ]
    },
    {
      "id": 552,
      "type": "QwenImageDiffsynthControlnet",
      "pos": [
        5743.920384641252,
        1288.9860837426345
      ],
      "size": [
        365.249609375,
        138
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 617
        },
        {
          "name": "model_patch",
          "type": "MODEL_PATCH",
          "link": 618
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 619
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 620
        },
        {
          "name": "mask",
          "shape": 7,
          "type": "MASK",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            601,
            602,
            603
          ]
        }
      ],
      "title": "QwenImageDiffsynthControlnet (global structure)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.4.0",
        "Node name for S&R": "QwenImageDiffsynthControlnet",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        1.2
      ]
    },
    {
      "id": 551,
      "type": "Canny",
      "pos": [
        5490.342119899398,
        1335.2161189014007
      ],
      "size": [
        210,
        96
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 621
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            620
          ]
        }
      ],
      "title": "Canny (global structure)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.4.0",
        "Node name for S&R": "Canny",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        0.02,
        0.11
      ]
    },
    {
      "id": 507,
      "type": "SeedVR2VideoUpscaler",
      "pos": [
        4851.8301500979605,
        718.8031569577983
      ],
      "size": [
        329.9609375,
        420
      ],
      "flags": {},
      "order": 11,
      "mode": 4,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 514
        },
        {
          "name": "dit",
          "type": "SEEDVR2_DIT",
          "link": 519
        },
        {
          "name": "vae",
          "type": "SEEDVR2_VAE",
          "link": 518
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            517,
            523,
            565,
            621
          ]
        }
      ],
      "properties": {
        "cnr_id": "seedvr2_videoupscaler",
        "ver": "2.5.20",
        "Node name for S&R": "SeedVR2VideoUpscaler",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [
        9999999,
        "fixed",
        2160,
        0,
        1,
        false,
        "lab",
        0,
        0,
        0,
        0,
        "cuda:0",
        false
      ]
    }
  ],
  "links": [
    [
      5,
      9,
      0,
      3,
      1,
      "CONDITIONING"
    ],
    [
      6,
      10,
      0,
      3,
      2,
      "CONDITIONING"
    ],
    [
      7,
      8,
      0,
      3,
      3,
      "LATENT"
    ],
    [
      15,
      12,
      0,
      8,
      1,
      "VAE"
    ],
    [
      49,
      58,
      0,
      61,
      0,
      "LATENT"
    ],
    [
      220,
      206,
      0,
      62,
      0,
      "IMAGE"
    ],
    [
      304,
      12,
      0,
      61,
      1,
      "VAE"
    ],
    [
      307,
      9,
      0,
      35,
      1,
      "CONDITIONING"
    ],
    [
      308,
      9,
      0,
      58,
      1,
      "CONDITIONING"
    ],
    [
      309,
      10,
      0,
      35,
      2,
      "CONDITIONING"
    ],
    [
      310,
      10,
      0,
      58,
      2,
      "CONDITIONING"
    ],
    [
      327,
      3,
      0,
      35,
      3,
      "LATENT"
    ],
    [
      329,
      35,
      0,
      58,
      3,
      "LATENT"
    ],
    [
      506,
      6,
      0,
      512,
      0,
      "MODEL"
    ],
    [
      507,
      214,
      0,
      9,
      0,
      "CLIP"
    ],
    [
      508,
      214,
      0,
      10,
      0,
      "CLIP"
    ],
    [
      514,
      11,
      0,
      507,
      0,
      "IMAGE"
    ],
    [
      517,
      507,
      0,
      8,
      0,
      "IMAGE"
    ],
    [
      518,
      506,
      0,
      507,
      2,
      "SEEDVR2_VAE"
    ],
    [
      519,
      505,
      0,
      507,
      1,
      "SEEDVR2_DIT"
    ],
    [
      523,
      507,
      0,
      513,
      0,
      "IMAGE"
    ],
    [
      524,
      513,
      0,
      512,
      1,
      "INT"
    ],
    [
      525,
      513,
      1,
      512,
      2,
      "INT"
    ],
    [
      528,
      516,
      0,
      517,
      0,
      "BBOX_DETECTOR"
    ],
    [
      534,
      6,
      0,
      521,
      0,
      "MODEL"
    ],
    [
      535,
      520,
      0,
      521,
      1,
      "INT"
    ],
    [
      536,
      520,
      1,
      521,
      2,
      "INT"
    ],
    [
      537,
      521,
      0,
      522,
      0,
      "MODEL"
    ],
    [
      538,
      401,
      0,
      522,
      1,
      "MODEL_PATCH"
    ],
    [
      539,
      12,
      0,
      522,
      2,
      "VAE"
    ],
    [
      540,
      519,
      0,
      522,
      3,
      "IMAGE"
    ],
    [
      542,
      12,
      0,
      523,
      1,
      "VAE"
    ],
    [
      543,
      523,
      0,
      524,
      0,
      "LATENT"
    ],
    [
      545,
      522,
      0,
      525,
      0,
      "MODEL"
    ],
    [
      546,
      9,
      0,
      525,
      1,
      "CONDITIONING"
    ],
    [
      547,
      10,
      0,
      525,
      2,
      "CONDITIONING"
    ],
    [
      550,
      12,
      0,
      526,
      1,
      "VAE"
    ],
    [
      552,
      526,
      0,
      527,
      1,
      "IMAGE"
    ],
    [
      553,
      527,
      0,
      206,
      0,
      "IMAGE"
    ],
    [
      565,
      507,
      0,
      517,
      1,
      "IMAGE"
    ],
    [
      566,
      61,
      0,
      534,
      0,
      "IMAGE"
    ],
    [
      567,
      542,
      0,
      534,
      1,
      "MASK"
    ],
    [
      569,
      534,
      1,
      520,
      0,
      "IMAGE"
    ],
    [
      571,
      534,
      2,
      524,
      1,
      "MASK"
    ],
    [
      575,
      534,
      0,
      527,
      0,
      "STITCHER"
    ],
    [
      577,
      524,
      0,
      525,
      3,
      "LATENT"
    ],
    [
      587,
      11,
      0,
      541,
      0,
      "IMAGE"
    ],
    [
      588,
      543,
      0,
      541,
      1,
      "MASK"
    ],
    [
      589,
      541,
      1,
      519,
      0,
      "IMAGE"
    ],
    [
      592,
      516,
      0,
      542,
      0,
      "BBOX_DETECTOR"
    ],
    [
      593,
      516,
      0,
      543,
      0,
      "BBOX_DETECTOR"
    ],
    [
      594,
      61,
      0,
      542,
      1,
      "IMAGE"
    ],
    [
      595,
      11,
      0,
      543,
      1,
      "IMAGE"
    ],
    [
      596,
      541,
      1,
      544,
      0,
      "IMAGE"
    ],
    [
      597,
      544,
      0,
      523,
      0,
      "IMAGE"
    ],
    [
      598,
      505,
      0,
      544,
      1,
      "SEEDVR2_DIT"
    ],
    [
      599,
      506,
      0,
      544,
      2,
      "SEEDVR2_VAE"
    ],
    [
      600,
      544,
      0,
      545,
      0,
      "IMAGE"
    ],
    [
      601,
      552,
      0,
      3,
      0,
      "MODEL"
    ],
    [
      602,
      552,
      0,
      35,
      0,
      "MODEL"
    ],
    [
      603,
      552,
      0,
      58,
      0,
      "MODEL"
    ],
    [
      615,
      525,
      0,
      526,
      0,
      "LATENT"
    ],
    [
      616,
      15,
      0,
      6,
      0,
      "MODEL"
    ],
    [
      617,
      512,
      0,
      552,
      0,
      "MODEL"
    ],
    [
      618,
      401,
      0,
      552,
      1,
      "MODEL_PATCH"
    ],
    [
      619,
      12,
      0,
      552,
      2,
      "VAE"
    ],
    [
      620,
      551,
      0,
      552,
      3,
      "IMAGE"
    ],
    [
      621,
      507,
      0,
      551,
      0,
      "IMAGE"
    ]
  ],
  "groups": [],
  "config": {},
  "extra": {
    "ue_links": [],
    "links_added_by_ue": [],
    "ds": {
      "scale": 0.39142513012204155,
      "offset": [
        -3979.5214634071694,
        -9.497669827268965
      ]
    },
    "frontendVersion": "1.34.8",
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true,
    "workflowRendererVersion": "LG"
  },
  "version": 0.4
}